- page ||= @page

- if can? :manage, page
  = link_to page_settings_path(page), id: 'page_settings_button', class: 'btn btn-default right' do
    = settings_icon
    = t :page_settings

= draggable_boxes_row(page) do

  - if page.settings.show_group_map
    .col.col-sm-6.col-xs-12
      %h1#group-map-box= t(:group_map_title)
      %div
        = render partial: 'shared/group_map'

  - if @events
    .col.col-sm-3.public_root_events
      %h1#public-root-events-box
        = t(:events)
      %div
        = render partial: 'events/events_lis', locals: {events: @events, show_location_rather_than_group: true}

  .col.col-sm-9.col-xs-12.resizable_col
    = render page
  - page.teaser_boxes.each do |p|
    .col.col-sm-3.resizable_col= render partial: 'pages/page', locals: {page: p, teaser_box: true}

.row
  = render partial: 'pages/new_page_button', locals: {parent_page: page}

.row#blog_entries
  - if page.blog_entries.count > 0
    - page.blog_entries.each do |blog_entry|
      = render partial: 'pages/page', object: blog_entry


-#%div.col-md-12
-#  = render @page
-#
-#- # officers
-#- # We show the officers box only if there are any officers groups, since this is used only for special pages
-#- # at the moment. Most global admins won't assign officers to pages.
-#- #
-#- if @page.find_officers_groups.any?
-#  = render partial: 'officers/officers_box', locals: {structureable: @page}
-#
-#%div.col3
-#
-#  -# - if can?(:create_page_for, @page)
-#  -#   - # No nested blog posts!
-#  -#   - # The user might suspect to create a sibling, but really would create a nested blog post.
-#  -#   - # Note: `@page.type` could be 'Page' for the PagesController. But `Page.find(@page.id)` finds the type in the database.
-#  -#   - #
-#  -#   - if (Page.find(@page.id).type != 'BlogPost')
-#  -#     %div.blog_tools.box
-#  -#       = link_to blog_posts_path(parent_id: @page.id), :class => "btn btn-success add_blog_post", :method => :post, :remote => :true do
-#  -#         = icon :plus
-#  -#         = I18n.t(:add_blog_entry)
